
@using APILibrary
@using Microsoft.AspNet.Identity
@using System.Data


@{
    ViewBag.Title = "Auctionroompage";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@using Auction_Prop_Buyers.Models.DisplayMadels
@model Property


<!DOCTYPE html>

<html lang="en-US">
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>Auction-Prop.com | Property Details</title>

    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">
    <script src="https://kit.fontawesome.com/ef4e2c1ac6.js" crossorigin="anonymous"></script>

    <!-- Vendor CSS Files -->
    <link rel="stylesheet" href="~/Content2/bootstrap1.min.css" type="text/css">
    <link rel="stylesheet" href="~/Content2/ionicons.min.css" type="text/css">
    <link rel="stylesheet" href="~/Content2/animate.min.css" type="text/css">
    <link rel="stylesheet" href="~/Content2/owl.carousel.min.css" type="text/css">
    <link rel="stylesheet" href="~/Content/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="~/Content/font-awesome.css" type="text/css">

    <!-- Template Main CSS File -->
    <link href="~/assets/css/style.css" rel="stylesheet">

    <style>


        html, body {
            padding: 0;
            margin: 0;
            background: #fafafa;
            text-align: center;
        }

        body {
            padding-top: 3em;
        }



        h2 {
            margin-top: 2em;
        }

        .clock {
            position: relative;
            font-family: monaco,consolas,"courier new",monospace;
            font-size: 3.5rem;
            line-height: 1.375;
        }

            .clock:before,
            .clock:after {
                position: absolute;
                top: 0;
                bottom: 0;
                content: ':';
                z-index: 2;
                line-height: 1.15;
                color: #333;
            }

            .clock:before {
                left: 2.325em;
            }

            .clock:after {
                right: 2.325em;
            }

            .clock span {
                position: relative;
                display: inline-block;
                padding: 0 .25em;
                margin: 0 .06125em;
                z-index: 1;
                -webkit-transform: perspective(750);
                -moz-transform: perspective(750);
                -ms-transform: perspective(750);
                transform: perspective(750);
                -webkit-transform-style: preserve-3d;
                -moz-transform-style: preserve-3d;
                -ms-transform-style: preserve-3d;
                transform-style: preserve-3d;
            }

                .clock span:first-child {
                    margin-left: 0;
                }

                .clock span:last-child {
                    margin-right: 0;
                }

                .clock span:nth-child(2),
                .clock span:nth-child(4) {
                    margin-right: .3em;
                }

                .clock span:nth-child(3),
                .clock span:nth-child(5) {
                    margin-left: .3em;
                }

                .clock span:before,
                .clock span:after {
                    position: absolute;
                    left: 0;
                    top: 0;
                    right: 0;
                    bottom: 0;
                    color: #fafafa;
                    text-shadow: 0 1px 0 #fff;
                    background: #fa7f15;
                    border-radius: .125em;
                    outline: 1px solid transparent; /* fix jagged edges in ff */
                    -webkit-backface-visibility: hidden;
                    -moz-backface-visibility: hidden;
                    -ms-backface-visibility: hidden;
                    backface-visibility: hidden;
                    -webkit-transition: -webkit-transform .75s, opacity .75s;
                    -moz-transition: -moz-transform .75s, opacity .75s;
                    -ms-transition: -ms-transform .75s, opacity .75s;
                    transition: transform .75s, opacity .75s;
                }

                .clock span:before {
                    opacity: 1;
                    z-index: 1;
                    content: attr(data-old);
                    -webkit-transform-origin: 0 0;
                    -moz-transform-origin: 0 0;
                    -ms-transform-origin: 0 0;
                    transform-origin: 0 0;
                    -webkit-transform: translate3d(0,0,0) rotateX(0);
                    -moz-transform: translate3d(0,0,0) rotateX(0);
                    -ms-transform: translate3d(0,0,0) rotateX(0);
                    transform: translate3d(0,0,0) rotateX(0);
                }

                .clock span:after {
                    opacity: 0;
                    z-index: 2;
                    content: attr(data-now);
                    -webkit-transform-origin: 0 100%;
                    -moz-transform-origin: 0 100%;
                    -ms-transform-origin: 0 100%;
                    transform-origin: 0 100%;
                    -webkit-transform: translate3d(0,-102.5%,0) rotateX(90deg);
                    -moz-transform: translate3d(0,-102.5%,0) rotateX(90deg);
                    -ms-transform: translate3d(0,-102.5%,0) rotateX(90deg);
                    transform: translate3d(0,-102.5%,0) rotateX(90deg);
                }

            .clock .flip:before {
                opacity: 0;
                -webkit-transform: translate3d(0,102.5%,0) rotateX(-90deg);
                -moz-transform: translate3d(0,102.5%,0) rotateX(-90deg);
                -ms-transform: translate3d(0,102.5%,0) rotateX(-90deg);
                transform: translate3d(0,102.5%,0) rotateX(-90deg);
            }

            .clock .flip:after {
                opacity: 1;
                -webkit-transform: translate3d(0,0,0) rotateX(0);
                -moz-transform: translate3d(0,0,0) rotateX(0);
                -ms-transform: translate3d(0,0,0) rotateX(0);
                transform: translate3d(0,0,0) rotateX(0);
            }
    </style>

</head>
<body>

    <!-- ======= Property Search Section ======= -->
    <div class="click-closed"></div>
    <!--/ Form Search Star /-->
    <div class="box-collapse">
        <div class="title-box-d">
            <h3 class="title-d">Search Property</h3>
        </div>
        <span class="close-box-collapse right-boxed ion-ios-close"></span>
        <div class="box-collapse-wrap form">
            <form class="form-a">
                <div class="row">
                    <div class="col-md-12 mb-2">
                        <div class="form-group">
                            <label for="Type">Keyword</label>
                            <input type="text" class="form-control form-control-lg form-control-a" placeholder="Keyword">
                        </div>
                    </div>
                    <div class="col-md-6 mb-2">
                        <div class="form-group">
                            <label for="Type">Type</label>
                            <select class="form-control form-control-lg form-control-a" id="Type">
                                <option>All Types</option>
                                <option>Residential</option>
                                <option>Commercial</option>
                                <option>Agricultural</option>
                                <option>Investment</option>
                                <option>Bank Instrution</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6 mb-2">
                        <div class="form-group">
                            <label for="city">City</label>
                            <select class="form-control form-control-lg form-control-a" id="city">
                                <option>All City's</option>
                                <option>Johannesburg</option>
                                <option>Pretoria</option>
                                <option>Durban</option>
                                <option>Cape Town</option>
                                <option>Nelspruit</option>
                                <option>Polokwane</option>
                                <option>East London</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6 mb-2">
                        <div class="form-group">
                            <label for="bedrooms">Bedrooms</label>
                            <select class="form-control form-control-lg form-control-a" id="bedrooms">
                                <option>Any</option>
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                                <option>3+</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6 mb-2">
                        <div class="form-group">
                            <label for="garages">Garages</label>
                            <select class="form-control form-control-lg form-control-a" id="garages">
                                <option>Any</option>
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                                <option>3+</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6 mb-2">
                        <div class="form-group">
                            <label for="bathrooms">Bathrooms</label>
                            <select class="form-control form-control-lg form-control-a" id="bathrooms">
                                <option>Any</option>
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                                <option>3+</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <button type="submit" class="btn btn-b">Search Property</button>
                    </div>
                </div>
            </form>
        </div>
    </div><!-- End Property Search Section -->

    <main id="main">

        <!-- ============================================= Property Name & Opening Bid ======================================================== -->
        <section class="intro-single">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div class="title-single-box">
                            <h1 class="title-single; text-center"><strong>@Model.Address</strong></h1>
                            <h1 class="title-single; text-center">@Model.City , @Model.Province</h1>
                        </div>
                    </div>
                    <div class="col">
                        <div class="title-single-box" style="border-right: 3px solid #fa7f15">
                            <h1 class="title-single; text-center"><strong>Opening Bid:</strong></h1>
                            <h1 id="#Cur" class="title-single; text-center">R @Model.OpeningBid </h1>
                        </div>
                    </div>
                </div>
            </div>

        </section><!-- End Intro Single-->
        <!-- ============================================= Property Images ======================================================== -->
        <section class="property-single nav-arrow-b">
            <div class="container">
                <div class="row">
                    <div class="col-sm-12">
                        <div id="property-single-carousel" class="owl-carousel owl-arrow gallery-property">
                            @foreach (PropertyPhoto pp in Model.PropertyPhotos)
                            {
                                <div class="carousel-item-b">
                                    <img src=@pp.PropertyPhotoPath alt="">
                                </div>
                            }

                        </div>
                    </div>
                </div>
            </div>
            <br />
            <!-- ============================================= Current Bid & Timer ======================================================== -->

            <div class="container" style="border-right: solid #fa7f15; border-left: solid #fa7f15; padding-bottom:30px">
                @if (Model.Auction.StartTime < DateTime.Now)
                {
                    <h1 class="title-single; text-center"><strong>AUCTION ENDS IN</strong></h1>
                    <div class="title-single-box">
                        <div id="CountDown">
                            @Html.DisplayFor(model => model.Auction.EndTime)
                        </div>
                    </div>

                }
                else
                {
                    <h1 class="title-single; text-center"><strong>AUCTION STARTS IN</strong></h1>
                    <div class="title-single-box">
                        <div id="CountDown">
                            @Html.DisplayFor(model => model.Auction.StartTime)
                        </div>
                    </div>
                }


            </div>
        </section>
        <br />
        <br />

        <!-- ============================================= Auction Panel & Video ======================================================== -->
        <div class="container">
            <div class="row">
                <div class="col-5">
                    @if (DateTime.Now > Model.Auction.EndTime)
                    {

                        <div class="bid" style="padding-top:20px; text-align:center;  margin:auto; border-top: solid #07033c;; border-bottom: solid #07033c; width:100%; height:90%">
                            @try
                            {
                                if (Model.ConcludedAuction != null)
                                {

                                    <h4 class="title-single; text-center">Winning Bid</h4>
                                    <h4  class="title-single; text-center">R @Model.ConcludedAuction.Bid.AmuntOfBid</h4>


                                    <h4 class="title-single; text-center">Winning Bidder</h4>
                                    <h4  class="title-single; text-center"> @Model.ConcludedAuction.RegisteredBuyer.FirstName</h4>
                                }
                            }
                            catch
                            {

                            }
                        </div>
                    }
                    else if (Model.Auction.StartTime < DateTime.Now)
                    {



                        <div class="container" title="Auction History " style="border: solid #07033c;width: 100%">


                            <div class="row" style="text-align:center; padding:20px; border-bottom:ridge">
                                <div class="col-lg-6" style="text-align:left">
                                    Auction Will Start at @Model.Auction.StartTime
                                </div>
                            </div>
                        </div>

                    }
                    else
                    { <div class="bid" style="padding-top:20px; text-align:center;  margin:auto; border-top: solid #07033c;; border-bottom: solid #07033c; width:100%; height:90%">
                            <h4 class="title-single; text-center">Current Bid</h4>
                            <h4 id="cur" class="title-single; text-center">R @Model.OpeningBid.ToString("C0").Substring(1)</h4>
                            Your Bid:

                            <div class="Yourbid" style=" width:240px;float:inherit;margin:auto;">
                                <input type="button" id="Decriment5k" value="-" style="float:left; width:25px; border: solid #07033c  " />
                                <input type="button" id="Increment5k" value="+" style="float:right; width:25px; border: solid #07033c" />

                                <div id="Biddd" style="        margin: auto;       width: 150px;       border: 3px solid #fa7f15;        border-radius: 3px;        float: none; border: solid #fa7f15">@Model.OpeningBid</div>
                            </div>
                            <div class="Increments" style="padding-top:30px; margin:auto">
                                <div>Add increment of:</div>
                                <input type="button" id="10KIncreas" value="R10 000" style="float:left; border: solid #fa7f15" />
                                <input type="button" id="50KIncreas" value="R50 000" style="border: solid #fa7f15" />
                                <input type="button" id="100KIncreas" value="R100 000" style="float:right; border: solid #fa7f15 " />

                                <div class="Placebid" style="padding-top:30px ;padding-bottom:20px">
                                    <input type="button" id="placeBid" value="Plase youre bid" style="border: solid #07033c" />
                                </div>

                            </div>


                        </div>

                    }
                </div>
                <div class="col-7">
                    <div class="embed-responsive embed-responsive-16by9 hoverable">
                        @try
                        {
                            @Model.PromoVideos
                            <iframe class="embed-responsive-item" src=@Model.PromoVideos style="height: 100%"
                                    allowfullscreen></iframe>
                        }
                        catch
                        {
                            <iframe class="embed-responsive-item" src="" style="height: 100%"
                                    allowfullscreen>
                                No Promo Video Available
                            </iframe>
                        }

                    </div>
                </div>
            </div>
            <!--Grid column-->
        </div>
        <br />
        <br />
        <br />
        <div class="container">
            <h4 class="text-center">Please place youre bids with more than 20 seconds on the countdown clock to insure youre bid is regestered on the server bevore time runs out.</h4>
        </div>
        <br />
        <!-- ============================================= Bidding Window ======================================================== -->


        <div class="container">
            <div class="title-single-box text-left">
                <h2><strong>Bidding Window</strong></h2>
            </div>

            <div class="container" title="Auction History " style="border: solid #07033c;width: 100%">


                <div class="row" style="text-align:center; padding:20px; border-bottom:ridge">
                    <div class="col-lg-6" style="text-align:left">
                        Bitter
                    </div>
                    <div class="col-lg-3">
                        Time of bid
                    </div><div class="col-lg-3">
                        Bid
                    </div>
                </div>
                <div type="hidden" id="displayname" style="visibility:hidden">Username</div>
                <div id="CurentBid" style="text-align:left">
                </div>
                <div class="col-lg-5" id="bidUser" style="text-align:left">
                </div>
                <div class="col-lg-2" id="bidTime" style="text-align:left">
                </div>
                <div class="col-lg-2" id="bidAmount" style="text-align:left">
                </div>



            </div>


            <div id="USER" type="hidden"></div>

            <br />
            <!-- ============================================= Chat Room ======================================================== -->
            <div class="container">
                <h2 class="title-single; text-left"><strong>ChatBox</strong></h2>
                <input type="text" id="message" style="border: dashed #07033c; width: 100%">
                <ul id="discussion">
                </ul>

                <div class="title-single; text-left">
                    <input type="button" id="sendmessage" value="Send" style="border: solid #07033c " />
                    <input type="hidden" id="displayname" />
                </div>



            </div>

        </div>

    </main><!-- End #main -->

    <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>
    <div id="preloader"></div>

    <!-- Vendor JS Files -->
    <script src="~/Scripts/jquery.min.js"></script>
    <script src="~/Scripts/bootstrap.bundle.min.js"></script>
    <script src="~/Scripts/jquery.easing.min.js"></script>
    <script src="~/Scripts/validate.js"></script>
    <script src="~/Scripts/owl.carousel.min.js"></script>
    <script src="~/Scripts/scrollreveal.min.js"></script>

  

    <!-- Template Main JS File -->
    <script src="~/Scripts/main.js"></script>











    @section JavaScript{
        <script src="~/Scripts/jquery-3.4.1.js"></script>
        <!--Reference the SignalR library. -->
        <script src="~/Scripts/jquery.signalR-2.4.1.js"></script>
        <!--Reference the autogenerated SignalR hub script. -->
        <script src="~/signalr/hubs"></script>


        <script type="text/javascript">


        $(function () {
            // Declare a proxy to reference the hub.
            var auction = $.connection.auctionHub;
            // Create a function that the hub can call to broadcast messages.
            auction.client.broadcastMessage2 = function (name, message) {
                // Html encode display name and message.
                var encodedName = $('<div />').text(name).html();
                var encodedMsg = $('<div />').text(message).html();
                // Add the message to the page.
                $('#discussion').append('<li><strong>' + encodedName
                    + '</strong>:&nbsp;&nbsp;' + encodedMsg + '</li>');
            };
             auction.client.broadcastMessage = function (name, bid) {
                // Html encode display name and message.
                var encodedName = $('<div />').text(name).html();
                var encodedBid = $('<div />').text(bid).html();
                var time = $('<div />').text('@DateTime.Now.ToString("hh:mm:ss")').html();
                 // Add the message to the page.
                 $('#bidUser').prepend('<li>' + encodedName +  '</li>');
                 $('#bidTime').prepend('<li>'  + time
                     +  '</li>');
                 $('#bidAmount').prepend('<li>R' +  encodedBid + '</li>');

                 $('#cur').text(encodedBid );
                 $('#Cur').text(encodedBid);
                 $('#USER').text(encodedName)
            };
            // Get the user name and store it to prepend to messages.
            $('#displayname').val('@User.Identity.GetUserName()');
            // Set initial focus to message input box.
            $('#Bid').focus();
            // Start the connection.
            $.connection.hub.start().done(function () {
                $('#sendmessage').click(function () {
                    // Call the Send method on the hub.
                    auction.server.send($('#displayname').val(), $('#message').val());
                    // Clear text box and reset focus for next comment.
                    $('#message').val('').focus();
                });
                $('#PlaceBid').click(function () {
                    // Call the Send method on the hub.
                    auction.server.bid($('#displayname').val(), $('#Bid').val(), $('#cur').text());
                    // Clear text box and reset focus for next comment.
                    $('#Bid').val('').focus();
                });
                 $('#placeBid').click(function () {
                     // Call the Send method on the hub.
                     auction.server.bid2($('#displayname').val(), $('#Biddd').text(),'@Model.PropertyID','@User.Identity.GetUserId()');
                    // Clear text box and reset focus for next comment.
                 });
                 var $bid = $('#Biddd');
                $('#Increment5k').click(function () {
                    var value = parseInt($bid.html());
                    value = value + 5000;
                    $('#Biddd').text(value);
                });
                 $('#Decriment5k').click(function () {
                    var value = parseInt($bid.html());
                    value = value - 5000;
                    $('#Biddd').text(value );
                 });
                $('#10KIncreas').click(function () {
                    var value = parseInt($bid.html());
                    value = value + 10000;
                    $('#Biddd').text(value );
                });
                $('#50KIncreas').click(function () {
                    var value = parseInt($bid.html());
                    value = value + 50000;
                    $('#Biddd').text(value );
                });
                $('#100KIncreas').click(function () {
                    var value = parseInt($bid.html());
                    value = value + 100000;
                    $('#Biddd').text(value );
                });




            });



        });
        </script>
        <script>
        // Set the date we're counting down to
        //var countDownDate = new Date("Jan 5, 2021 15:37:25").getTime();
        var countDownDate = new Date(document.getElementById("CountDown").innerHTML).getTime();
        // var countDownDate = new Date(document.getElementById("EndTime").innerHTML).getTime();



        // Update the count down every 1 second
        var x = setInterval(function () {

            // Get today's date and time
            var now = new Date().getTime();

            // Find the distance between now and the count down date
            var distance = countDownDate - now;



            // Time calculations for days, hours, minutes and seconds
            var days = Math.floor(distance / (1000 * 60 * 60 * 24));
            var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            var seconds = Math.floor((distance % (1000 * 60)) / 1000);

            // Display the result in the element with id="demo"
            document.getElementById("CountDown").innerHTML = days + " Days, " + hours + " Hours, "
                + minutes + " Minutes, " + seconds + " Seconds. ";

            //document.getElementById("CountDown").innerHTML = document.getElementById("StartTime").innerHTML;

            // If the count down is finished, write some text
            if (distance < 0) {
                clearInterval(x);

                document.getElementById("CountDown").innerHTML = "EXPIRED";

                location.reload();
            }
            if ($('#CountDown').text() == "EXPIRED")
            {

            }


            if (Math.floor($('#Biddd').text()) > Math.floor($('#cur').text())) {
                document.getElementById("Biddd").style.borderColor = "green";
                document.getElementById("placeBid").style.borderColor = "green";
            }
            else {
                 document.getElementById("Biddd").style.borderColor = "red";
                 document.getElementById("placeBid").style.borderColor = "red";
            }


            if ($('#USER').text() == '@User.Identity.GetUserName()') {
                document.getElementById("Possision").style.borderColor = "green";
                $('#Possision').text("You are Leading the bid.");
            }
            else {
                document.getElementById("Possision").style.borderColor = "red";
                 $('#Possision').text($('#USER').text() + " are winning the Bid.");
            }


            if (Math.floor($('#reserve').text())  <=   Math.floor($('#cur').text())){
                   document.getElementById("Reserve").style.borderColor = "green";
                $('#Reserve').text("Reserve is met.");
            }
            else {
                document.getElementById("Reserve").style.borderColor = "red";
                $('#Reserve').text("Reserve not met");

            }




        }, 1000);
        </script>

    }



</body>

</html>

<!--

@{ Bid HighestB = new Bid(); }

@if (Model.Auction.StartTime < DateTime.Now && DateTime.Now < Model.Auction.EndTime)
{
    if (Model.Auction.Bids != null)
    {
        bool first = true;
        foreach (Bid b in Model.Auction.Bids)
        {
            if (first)
            {
                HighestB = b;
            }
            else
            {
                if (HighestB.AmuntOfBid > b.AmuntOfBid)
                {
                    HighestB = b;
                }
            }

        }

    }
    else
    {
        HighestB.AmuntOfBid = Model.Auction.Property.OpeningBid;
    }

    //decimal userBid = Convert.ToDecimal(Html.DisplayTextFor(model => model.Auction.Property.OpeningBid).ToString());
    //decimal hieghestBid = Convert.ToDecimal(Html.DisplayTextFor(model => model.Auction.Property.OpeningBid).ToString());
    <div class="jumbotron" style="text-align:center">

        <h1>Current Bid</h1>
        <p class="lead">
            R<label id="cur">@HighestB.AmuntOfBid</label>

        </p>
    </div>

    <div id="left" style="width: 50%; float: left; height: auto; background-color:lightgrey; text-align: center">
        <div height="40px" style="background-color:coral; padding:10px">
            Auction Ends in:
            <div id="CountDown">
                @Html.DisplayFor(model => model.Auction.EndTime)
            </div>

        </div>
        <div style="padding:10px; text-align:center ; margin:auto">
            Auction By
            <div style="width:20% ; text-align:center ; margin:auto">
              
            </div>
        </div>
        <div style="padding:10px">
            Current Bid:
            <div id="Cur"> @HighestB.AmuntOfBid</div>
        </div>
        <div style="padding:20px; width:50%; margin:auto;   height:100px">
            <div id="Possision" style="float:left; width:90px; border:ridge; border-radius:5px; height:65px; text-align:center ; padding-bottom:20px">
                current possision
            </div>
            <div id="Reserve" style="float: right;width: 90px; border: ridge;border-radius: 5px; height: 65px; text-align: center;     padding-bottom: 20px">
                Reserve

            </div>
            <div id="reserve" type="hidden" class="hidden">
         
            </div>

        </div>


        <div style="padding-top:30px; text-align:center;  margin:auto; width:43%">
            Your Bid:
            <div style=" width:240px;float:inherit;margin:auto">

                <input type="button" id="Decriment5k" value="-" style="float:left; width:8px " />
                <input type="button" id="Increment5k" value="+" style="float:right; width:8px" />
                <div id="Biddd" style=" margin:auto;width:150px;border:solid; border-radius:3px;float:none"></div>

            </div>
            <div style="padding-top:30px; margin:auto">
                <div>Add increment of:</div>


                <input type="button" id="10KIncreas" value="R10 000" style="float:left " />
                <input type="button" id="50KIncreas" value="R50 000" />
                <input type="button" id="100KIncreas" value="R100 000" style="float:right " />

            </div>

            <div style="padding-top:30px ;padding-bottom:20px">


                <input type="button" id="placeBid" value="Plase youre bid" style="border-color:red ;padding-bottom:20px" />

            </div>
            <div style="padding-top: 30px ;padding-bottom:20px">
                <input type="button" id="PlaceMaximumBid" value="Place Maximum Bid " />
            </div>

        </div>

        <div style="padding-bottom:40px">
            <div style=" padding-top:20px">Disclaimer</div>
            <p style="padding-left:20px; padding-right:20px">Please place youre bids with more than 20 seconds on the countdown clock to insure youre bid is regestered on the server bevore time runs out. </p>
        </div>

        <div class="container" title="Auction History " style="border:dashed; width:80%">
            <input type="text" id="Bid" />
            <input type="button" id="PlaceBid" value="Bid" />

            <div class="row" style="text-align:center; padding:20px; border-bottom:ridge">
                <div class="col-lg-6" style="text-align:left">
                    Bitter
                </div>
                <div class="col-lg-3">
                    Time of bid
                </div><div class="col-lg-3">
                    Bid
                </div>
            </div>

            <div type="hidden" id="displayname" style="visibility:hidden">@User.Identity.GetUserName()</div>
            <div id="CurentBid" style="text-align:left">

            </div>
            <div class="col-lg-6" id="bidUser" style="text-align:left">

            </div>
            <div class="col-lg-3" id="bidTime" style="text-align:left">

            </div>
            <div class="col-lg-3" id="bidAmount" style="text-align:left">

            </div>
        </div>
        <div id="USER" type="hidden"></div>

    </div>

}
else if (Model.Auction.StartTime > DateTime.Now && DateTime.Now < Model.Auction.EndTime)
{<div class="jumbotron" style="text-align: center ">
        <h1>Opening Bid</h1>
        <p class="lead">
            R<label id="cur">@Html.DisplayFor(model => model.Auction.Property.OpeningBid)</label>

        </p>
    </div>
    <div id="left" style="width: 50%; float: left; height: auto; background-color:lightgrey; text-align: center ; padding:20px">
        <div height="40px" style="background-color:coral; padding:10px">
            Auction Ends in:
            <div id="CountDown">
                @Html.DisplayFor(model => model.Auction.EndTime)
            </div>

        </div>
        <div style="padding:10px ; text-align:center; margin:auto">
            On Auction By
            <div style="padding:20px; width:20% ; text-align:center; margin:auto">

            </div>
        </div>
        <div>
            <div>Opening Bid.</div>
            <div id="cur" style="padding:10px">R @Html.DisplayFor(model => model.Auction.Property.OpeningBid)</div>
        </div>


        <div style="padding:20px">
            Auction Start on:
            <div id="StartTime">@Html.DisplayFor(model => model.Auction.StartTime)</div>
        </div>
        <div style="padding:20px">
            Auction Ends on
            <div id="EndTime">@Html.DisplayFor(model => model.Auction.EndTime)</div>
        </div>


    </div>

}
else
{
    <div class="jumbotron" style="text-align:center">
        <h1>Auction is over</h1>
        <p class="lead">

        </p>
    </div>

}
<div id="right" style="width: 50%; float:right; height:auto; background-color:royalblue">

    <div height="40px" style="background-color:royalblue; padding:10px">
        <div>Property Info</div>
        <div>@Html.DisplayFor(model => model.Province) , @Html.DisplayFor(model => model.City)</div>
        <div>@Html.DisplayFor(model => model.Address)</div>

    </div>
    <div style="padding:1%">
        @if (true)
        {

            int count = 0;
            foreach (PropertyPhoto P in Model.PropertyPhotos)
            {
                if (count == 0)
                {
                    <img src=@Url.Content(P.PropertyPhotoPath) style="width:99%" />

                }
                else
                {
                    <img src=@Url.Content(P.PropertyPhotoPath) style="width:20%" />
                }

                count++;
            }

        }
    </div>
    <div>description, location, documents</div>


</div>



<div class="container">
    <div>Chat Window</div>
    <input type="text" id="message" />
    <ul id="discussion">
    </ul>
    <input type="button" id="sendmessage" value="Send" />
    <input type="hidden" id="displayname" />

</div>


-->
